import React, { useState } from 'react';
import { Check, Home, DollarSign, MapPin, Building, BedDouble, Bath, Calendar, ArrowRight } from 'lucide-react';

const AgentAllySurvey = () => {
  // State to track current step and all answers
  const [currentStep, setCurrentStep] = useState(0);
  const [answers, setAnswers] = useState({
    userType: '',
    // Buyer specific
    location: '',
    priceMin: '',
    priceMax: '',
    bedrooms: '',
    bathrooms: '',
    homeType: '',
    sqftMin: '',
    moveInTimeframe: '',
    preApproved: '',
    preApprovedAmount: '',
    additionalFeatures: [],
    // Seller specific
    propertyAddress: '',
    currentHomeType: '',
    currentBedrooms: '',
    currentBathrooms: '',
    currentSqft: '',
    lotSize: '',
    yearBuilt: '',
    lastRenovated: '',
    sellingTimeframe: '',
    reasonForSelling: '',
    expectedPrice: '',
    // Common fields
    firstName: '',
    lastName: '',
    email: '',
    phone: '',
    contactPreference: '',
    agreeToTerms: false
  });

  // Features checklist options
  const featureOptions = [
    'Garage', 'Basement', 'Pool', 'Yard', 'Deck/Patio', 
    'Fireplace', 'Open Floor Plan', 'Updated Kitchen', 
    'Updated Bathrooms', 'Central AC', 'Smart Home'
  ];

  // Home type options
  const homeTypeOptions = [
    'Single-family Home', 'Townhouse', 'Condo/Apartment', 
    'Multi-family Home', 'New Construction', 'Fixer-upper'
  ];

  // Function to update answers
  const handleChange = (field, value) => {
    setAnswers({
      ...answers,
      [field]: value
    });
  };

  // Function to handle checkbox changes
  const handleCheckboxChange = (feature) => {
    const currentFeatures = [...answers.additionalFeatures];
    
    if (currentFeatures.includes(feature)) {
      // Remove if already selected
      const updatedFeatures = currentFeatures.filter(f => f !== feature);
      setAnswers({
        ...answers,
        additionalFeatures: updatedFeatures
      });
    } else {
      // Add if not selected
      setAnswers({
        ...answers,
        additionalFeatures: [...currentFeatures, feature]
      });
    }
  };

  // Function to move to next step
  const nextStep = () => {
    // Skip steps based on user type
    if (currentStep === 0) {
      if (answers.userType === 'buyer') {
        setCurrentStep(1); // Go to buyer questions
      } else if (answers.userType === 'seller') {
        setCurrentStep(100); // Go to seller questions
      } else if (answers.userType === 'both') {
        setCurrentStep(1); // Start with buyer questions, then will go to seller
      }
    } else {
      setCurrentStep(currentStep + 1);
    }
  };

  // Submit function
  const handleSubmit = () => {
    console.log('Survey Submitted:', answers);
    setCurrentStep(1000); // Move to thank you screen
  };

  // Determine if the current step can proceed
  const canProceed = () => {
    switch(currentStep) {
      case 0:
        return answers.userType !== '';
      case 1:
        return answers.location !== '';
      case 2:
        return answers.priceMin !== '' && answers.priceMax !== '';
      case 3:
        return answers.bedrooms !== '' && answers.bathrooms !== '';
      case 4:
        return answers.homeType !== '';
      case 5:
        return answers.sqftMin !== '';
      case 6:
        return answers.moveInTimeframe !== '';
      case 7:
        return answers.preApproved !== '';
      case 8:
        return answers.preApproved === 'no' || answers.preApprovedAmount !== '';
      case 9:
        return true; // Additional features is optional
      case 10:
      case 100:
        return answers.propertyAddress !== '';
      case 101:
        return answers.currentHomeType !== '';
      case 102:
        return answers.currentBedrooms !== '' && answers.currentBathrooms !== '';
      case 103:
        return answers.currentSqft !== '';
      case 104:
        return answers.lotSize !== '';
      case 105:
        return answers.yearBuilt !== '';
      case 106:
        return answers.lastRenovated !== '';
      case 107:
        return answers.sellingTimeframe !== '';
      case 108:
        return answers.reasonForSelling !== '';
      case 109:
        return answers.expectedPrice !== '';
      case 200:
        return answers.firstName !== '' && answers.lastName !== '';
      case 201:
        return answers.email !== '' && answers.phone !== '';
      case 202:
        return answers.contactPreference !== '';
      case 203:
        return answers.agreeToTerms === true;
      default:
        return true;
    }
  };

  // Function to handle navigation logic
  const handleNavigation = () => {
    // Case for buyer path
    if (answers.userType === 'buyer' && currentStep === 9) {
      setCurrentStep(200); // Jump to contact info
      return;
    }
    
    // Case for seller path
    if (answers.userType === 'seller' && currentStep === 109) {
      setCurrentStep(200); // Jump to contact info
      return;
    }
    
    // Case for both paths (after seller info)
    if (answers.userType === 'both' && currentStep === 109) {
      setCurrentStep(200); // Jump to contact info
      return;
    }
    
    // Case for review
    if (currentStep === 202) {
      setCurrentStep(203); // Review page
      return;
    }
    
    // Submit case
    if (currentStep === 203) {
      handleSubmit();
      return;
    }
    
    // Default next step
    nextStep();
  };

  // Calculate progress percentage
  const calculateProgress = () => {
    const totalSteps = answers.userType === 'buyer' ? 13 : 
                      answers.userType === 'seller' ? 14 : 
                      answers.userType === 'both' ? 24 : 1;
    
    let currentProgress = currentStep;
    
    // Adjust for jumps in step numbers
    if (currentStep >= 100 && currentStep < 200) {
      currentProgress = currentStep - 90;
    } else if (currentStep >= 200) {
      currentProgress = totalSteps - 3 + (currentStep - 200);
    }
    
    return Math.min(Math.round((currentProgress / totalSteps) * 100), 100);
  };

  // Function to render current step
  const renderStep = () => {
    switch(currentStep) {
      case 0:
        return (
          <div className="space-y-6">
            <h2 className="text-2xl font-bold text-center mb-6">Welcome to Agent Ally</h2>
            <p className="text-lg text-center mb-6">Are you interested in buying or selling a property?</p>
            
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
              <button
                onClick={nextStep}
                disabled={!canProceed()}
                className={`px-8 py-3 rounded-full flex items-center ${canProceed() ? 'bg-blue-600 text-white hover:bg-blue-700' : 'bg-gray-300 text-gray-500 cursor-not-allowed'} focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2`}
              >
                Get Started
                <ArrowRight size={16} className="ml-2" />
              </button>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default AgentAllySurvey; 
                className={`p-6 rounded-lg border-2 flex flex-col items-center ${answers.userType === 'buyer' ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                onClick={() => handleChange('userType', 'buyer')}
              >
                <Home size={40} className={answers.userType === 'buyer' ? 'text-blue-500' : 'text-gray-400'} />
                <span className="mt-2 font-medium">I'm Buying</span>
              </button>
              
              <button 
                className={`p-6 rounded-lg border-2 flex flex-col items-center ${answers.userType === 'seller' ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                onClick={() => handleChange('userType', 'seller')}
              >
                <DollarSign size={40} className={answers.userType === 'seller' ? 'text-blue-500' : 'text-gray-400'} />
                <span className="mt-2 font-medium">I'm Selling</span>
              </button>
              
              <button 
                className={`p-6 rounded-lg border-2 flex flex-col items-center ${answers.userType === 'both' ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                onClick={() => handleChange('userType', 'both')}
              >
                <div className="flex">
                  <Home size={32} className={answers.userType === 'both' ? 'text-blue-500' : 'text-gray-400'} />
                  <DollarSign size={32} className={answers.userType === 'both' ? 'text-blue-500' : 'text-gray-400'} />
                </div>
                <span className="mt-2 font-medium">I'm Doing Both</span>
              </button>
            </div>
          </div>
        );
      
      // ----- BUYER QUESTIONS ----- //
      case 1:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">Where are you looking to buy?</h2>
            <div className="space-y-4">
              <label className="block">
                <span className="text-gray-700">Preferred location (City, State, or Zip Code)</span>
                <div className="mt-1 relative">
                  <MapPin className="absolute top-3 left-3 text-gray-400" size={18} />
                  <input
                    type="text"
                    value={answers.location}
                    onChange={(e) => handleChange('location', e.target.value)}
                    className="w-full pl-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="Enter city, state, or zip code"
                  />
                </div>
              </label>
            </div>
          </div>
        );
      
      case 2:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">What's your budget?</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              <label className="block">
                <span className="text-gray-700">Minimum price</span>
                <div className="mt-1 relative">
                  <DollarSign className="absolute top-3 left-3 text-gray-400" size={18} />
                  <input
                    type="number"
                    value={answers.priceMin}
                    onChange={(e) => handleChange('priceMin', e.target.value)}
                    className="w-full pl-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="Min price"
                  />
                </div>
              </label>
              
              <label className="block">
                <span className="text-gray-700">Maximum price</span>
                <div className="mt-1 relative">
                  <DollarSign className="absolute top-3 left-3 text-gray-400" size={18} />
                  <input
                    type="number"
                    value={answers.priceMax}
                    onChange={(e) => handleChange('priceMax', e.target.value)}
                    className="w-full pl-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="Max price"
                  />
                </div>
              </label>
            </div>
          </div>
        );
      
      case 3:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">How many bedrooms and bathrooms do you need?</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              <label className="block">
                <span className="text-gray-700">Bedrooms</span>
                <div className="mt-1 relative">
                  <BedDouble className="absolute top-3 left-3 text-gray-400" size={18} />
                  <select
                    value={answers.bedrooms}
                    onChange={(e) => handleChange('bedrooms', e.target.value)}
                    className="w-full pl-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="">Select</option>
                    <option value="1">1+ bedrooms</option>
                    <option value="2">2+ bedrooms</option>
                    <option value="3">3+ bedrooms</option>
                    <option value="4">4+ bedrooms</option>
                    <option value="5">5+ bedrooms</option>
                  </select>
                </div>
              </label>
              
              <label className="block">
                <span className="text-gray-700">Bathrooms</span>
                <div className="mt-1 relative">
                  <Bath className="absolute top-3 left-3 text-gray-400" size={18} />
                  <select
                    value={answers.bathrooms}
                    onChange={(e) => handleChange('bathrooms', e.target.value)}
                    className="w-full pl-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="">Select</option>
                    <option value="1">1+ bathrooms</option>
                    <option value="1.5">1.5+ bathrooms</option>
                    <option value="2">2+ bathrooms</option>
                    <option value="2.5">2.5+ bathrooms</option>
                    <option value="3">3+ bathrooms</option>
                    <option value="3.5">3.5+ bathrooms</option>
                    <option value="4">4+ bathrooms</option>
                  </select>
                </div>
              </label>
            </div>
          </div>
        );
      
      case 4:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">What type of home are you looking for?</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
              {homeTypeOptions.map(type => (
                <button 
                  key={type}
                  className={`p-4 rounded-lg border-2 text-left ${answers.homeType === type ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                  onClick={() => handleChange('homeType', type)}
                >
                  <Building className={`inline-block mr-2 ${answers.homeType === type ? 'text-blue-500' : 'text-gray-400'}`} size={18} />
                  <span className="font-medium">{type}</span>
                </button>
              ))}
            </div>
          </div>
        );
      
      case 5:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">How much space do you need?</h2>
            <div className="space-y-4">
              <label className="block">
                <span className="text-gray-700">Minimum square footage</span>
                <div className="mt-1 relative">
                  <input
                    type="number"
                    value={answers.sqftMin}
                    onChange={(e) => handleChange('sqftMin', e.target.value)}
                    className="w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="Min square feet"
                  />
                </div>
              </label>
            </div>
          </div>
        );
      
      case 6:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">When are you looking to move?</h2>
            <div className="space-y-4">
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
                {['ASAP', 'Within 1 Month', '1-3 Months', '3-6 Months', '6+ Months', 'Just Looking'].map(timeframe => (
                  <button 
                    key={timeframe}
                  className={`p-4 rounded-lg border-2 text-left ${answers.sellingTimeframe === timeframe ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                  onClick={() => handleChange('sellingTimeframe', timeframe)}
                >
                  <Calendar className={`inline-block mr-2 ${answers.sellingTimeframe === timeframe ? 'text-blue-500' : 'text-gray-400'}`} size={18} />
                  <span className="font-medium">{timeframe}</span>
                </button>
              ))}
            </div>
          </div>
        );
      
      case 108:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">What's your main reason for selling?</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
              {['Upgrading to larger home', 'Downsizing', 'Relocating for work', 'Retirement', 'Family changes', 'Financial reasons', 'Investment property', 'Other'].map(reason => (
                <button 
                  key={reason}
                  className={`p-4 rounded-lg border-2 text-left ${answers.reasonForSelling === reason ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                  onClick={() => handleChange('reasonForSelling', reason)}
                >
                  <span className="font-medium">{reason}</span>
                </button>
              ))}
            </div>
          </div>
        );
      
      case 109:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">What price do you expect for your property?</h2>
            <div className="space-y-4">
              <label className="block">
                <div className="mt-1 relative">
                  <DollarSign className="absolute top-3 left-3 text-gray-400" size={18} />
                  <input
                    type="number"
                    value={answers.expectedPrice}
                    onChange={(e) => handleChange('expectedPrice', e.target.value)}
                    className="w-full pl-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="Expected price"
                  />
                </div>
              </label>
            </div>
            <p className="text-gray-600 mt-4">
              Agent Ally will help you determine the optimal listing price based on market analysis
            </p>
          </div>
        );
      
      // ----- CONTACT INFORMATION (COMMON) ----- //
      case 200:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">Let's get to know you</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              <label className="block">
                <span className="text-gray-700">First Name</span>
                <input
                  type="text"
                  value={answers.firstName}
                  onChange={(e) => handleChange('firstName', e.target.value)}
                  className="mt-1 block w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="First name"
                />
              </label>
              
              <label className="block">
                <span className="text-gray-700">Last Name</span>
                <input
                  type="text"
                  value={answers.lastName}
                  onChange={(e) => handleChange('lastName', e.target.value)}
                  className="mt-1 block w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="Last name"
                />
              </label>
            </div>
          </div>
        );
      
      case 201:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">How can we reach you?</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              <label className="block">
                <span className="text-gray-700">Email Address</span>
                <input
                  type="email"
                  value={answers.email}
                  onChange={(e) => handleChange('email', e.target.value)}
                  className="mt-1 block w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="Your email"
                />
              </label>
              
              <label className="block">
                <span className="text-gray-700">Phone Number</span>
                <input
                  type="tel"
                  value={answers.phone}
                  onChange={(e) => handleChange('phone', e.target.value)}
                  className="mt-1 block w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="Your phone number"
                />
              </label>
            </div>
          </div>
        );
        
      case 202:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">What's your preferred contact method?</h2>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
              <button 
                className={`p-4 rounded-lg border-2 text-left ${answers.contactPreference === 'email' ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                onClick={() => handleChange('contactPreference', 'email')}
              >
                <span className="font-medium">Email</span>
              </button>
              
              <button 
                className={`p-4 rounded-lg border-2 text-left ${answers.contactPreference === 'phone' ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                onClick={() => handleChange('contactPreference', 'phone')}
              >
                <span className="font-medium">Phone Call</span>
              </button>
              
              <button 
                className={`p-4 rounded-lg border-2 text-left ${answers.contactPreference === 'text' ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                onClick={() => handleChange('contactPreference', 'text')}
              >
                <span className="font-medium">Text Message</span>
              </button>
            </div>
          </div>
        );
        
      // ----- REVIEW & SUBMIT ----- //
      case 203:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">Review Your Information</h2>
            <div className="bg-gray-50 p-6 rounded-lg border border-gray-200 space-y-6">
              {answers.userType === 'buyer' || answers.userType === 'both' ? (
                <div>
                  <h3 className="font-bold text-lg border-b border-gray-200 pb-2 mb-3">Buying Preferences</h3>
                  <div className="space-y-2">
                    <p><span className="font-medium">Location:</span> {answers.location}</p>
                    <p><span className="font-medium">Price Range:</span> ${answers.priceMin} - ${answers.priceMax}</p>
                    <p><span className="font-medium">Bedrooms:</span> {answers.bedrooms}+</p>
                    <p><span className="font-medium">Bathrooms:</span> {answers.bathrooms}+</p>
                    <p><span className="font-medium">Home Type:</span> {answers.homeType}</p>
                    <p><span className="font-medium">Min Square Footage:</span> {answers.sqftMin} sq ft</p>
                    <p><span className="font-medium">Timeline:</span> {answers.moveInTimeframe}</p>
                    <p><span className="font-medium">Pre-Approved:</span> {answers.preApproved === 'yes' ? `Yes, for ${answers.preApprovedAmount}` : 'No'}</p>
                    {answers.additionalFeatures.length > 0 && (
                      <p><span className="font-medium">Desired Features:</span> {answers.additionalFeatures.join(', ')}</p>
                    )}
                  </div>
                </div>
              ) : null}  className={`p-4 rounded-lg border-2 text-left ${answers.moveInTimeframe === timeframe ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                    onClick={() => handleChange('moveInTimeframe', timeframe)}
                  >
                    <Calendar className={`inline-block mr-2 ${answers.moveInTimeframe === timeframe ? 'text-blue-500' : 'text-gray-400'}`} size={18} />
                    <span className="font-medium">{timeframe}</span>
                  </button>
                ))}
              </div>
            </div>
          </div>
        );
      
      case 7:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">Are you pre-approved for a mortgage?</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              <button 
                className={`p-4 rounded-lg border-2 text-left ${answers.preApproved === 'yes' ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                onClick={() => handleChange('preApproved', 'yes')}
              >
                <Check className={`inline-block mr-2 ${answers.preApproved === 'yes' ? 'text-blue-500' : 'text-gray-400'}`} size={18} />
                <span className="font-medium">Yes, I'm pre-approved</span>
              </button>
              
              <button 
                className={`p-4 rounded-lg border-2 text-left ${answers.preApproved === 'no' ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                onClick={() => handleChange('preApproved', 'no')}
              >
                <span className="font-medium">No, not yet</span>
              </button>
            </div>
          </div>
        );
      
      case 8:
        return answers.preApproved === 'yes' ? (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">What's your pre-approved loan amount?</h2>
            <div className="space-y-4">
              <label className="block">
                <div className="mt-1 relative">
                  <DollarSign className="absolute top-3 left-3 text-gray-400" size={18} />
                  <input
                    type="number"
                    value={answers.preApprovedAmount}
                    onChange={(e) => handleChange('preApprovedAmount', e.target.value)}
                    className="w-full pl-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="Pre-approved amount"
                  />
                </div>
              </label>
            </div>
          </div>
        ) : nextStep();
      
      case 9:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">What features are important to you?</h2>
            <p className="text-gray-600">Select all that apply</p>
            
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
              {featureOptions.map(feature => (
                <label 
                  key={feature}
                  className={`p-4 rounded-lg border-2 flex items-center cursor-pointer ${answers.additionalFeatures.includes(feature) ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                >
                  <input
                    type="checkbox"
                    checked={answers.additionalFeatures.includes(feature)}
                    onChange={() => handleCheckboxChange(feature)}
                    className="sr-only"
                  />
                  <span className={`flex-shrink-0 h-5 w-5 mr-2 rounded border ${answers.additionalFeatures.includes(feature) ? 'bg-blue-500 border-blue-500 flex items-center justify-center' : 'border-gray-300'}`}>
                    {answers.additionalFeatures.includes(feature) && (
                      <Check size={14} className="text-white" />
                    )}
                  </span>
                  <span className="font-medium">{feature}</span>
                </label>
              ))}
            </div>
            
            <p className="text-center text-gray-600 mt-6">
              {answers.userType === 'both' ? 'Now let\'s get information about your current property' : ''}
            </p>
          </div>
        );
      
      // ----- SELLER QUESTIONS ----- //
      case 100:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">Tell us about your property</h2>
            <div className="space-y-4">
              <label className="block">
                <span className="text-gray-700">Property Address</span>
                <div className="mt-1 relative">
                  <MapPin className="absolute top-3 left-3 text-gray-400" size={18} />
                  <input
                    type="text"
                    value={answers.propertyAddress}
                    onChange={(e) => handleChange('propertyAddress', e.target.value)}
                    className="w-full pl-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="Full property address"
                  />
                </div>
              </label>
            </div>
          </div>
        );
      
      case 101:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">What type of property are you selling?</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
              {homeTypeOptions.map(type => (
                <button 
                  key={type}
                  className={`p-4 rounded-lg border-2 text-left ${answers.currentHomeType === type ? 'border-blue-500 bg-blue-50' : 'border-gray-200'}`}
                  onClick={() => handleChange('currentHomeType', type)}
                >
                  <Building className={`inline-block mr-2 ${answers.currentHomeType === type ? 'text-blue-500' : 'text-gray-400'}`} size={18} />
                  <span className="font-medium">{type}</span>
                </button>
              ))}
            </div>
          </div>
        );
      
      case 102:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">How many bedrooms and bathrooms does your property have?</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              <label className="block">
                <span className="text-gray-700">Bedrooms</span>
                <div className="mt-1 relative">
                  <BedDouble className="absolute top-3 left-3 text-gray-400" size={18} />
                  <select
                    value={answers.currentBedrooms}
                    onChange={(e) => handleChange('currentBedrooms', e.target.value)}
                    className="w-full pl-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="">Select</option>
                    <option value="1">1 bedroom</option>
                    <option value="2">2 bedrooms</option>
                    <option value="3">3 bedrooms</option>
                    <option value="4">4 bedrooms</option>
                    <option value="5">5 bedrooms</option>
                    <option value="6+">6+ bedrooms</option>
                  </select>
                </div>
              </label>
              
              <label className="block">
                <span className="text-gray-700">Bathrooms</span>
                <div className="mt-1 relative">
                  <Bath className="absolute top-3 left-3 text-gray-400" size={18} />
                  <select
                    value={answers.currentBathrooms}
                    onChange={(e) => handleChange('currentBathrooms', e.target.value)}
                    className="w-full pl-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="">Select</option>
                    <option value="1">1 bathroom</option>
                    <option value="1.5">1.5 bathrooms</option>
                    <option value="2">2 bathrooms</option>
                    <option value="2.5">2.5 bathrooms</option>
                    <option value="3">3 bathrooms</option>
                    <option value="3.5">3.5 bathrooms</option>
                    <option value="4+">4+ bathrooms</option>
                  </select>
                </div>
              </label>
            </div>
          </div>
        );
      
      case 103:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">What is the square footage of your property?</h2>
            <div className="space-y-4">
              <label className="block">
                <div className="mt-1 relative">
                  <input
                    type="number"
                    value={answers.currentSqft}
                    onChange={(e) => handleChange('currentSqft', e.target.value)}
                    className="w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="Square feet"
                  />
                </div>
              </label>
            </div>
          </div>
        );
      
      case 104:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">What is the lot size of your property?</h2>
            <div className="space-y-4">
              <label className="block">
                <div className="mt-1 relative">
                  <input
                    type="text"
                    value={answers.lotSize}
                    onChange={(e) => handleChange('lotSize', e.target.value)}
                    className="w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="e.g., 0.25 acres or 10,000 sq ft"
                  />
                </div>
              </label>
            </div>
          </div>
        );
      
      case 105:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">When was your property built?</h2>
            <div className="space-y-4">
              <label className="block">
                <div className="mt-1 relative">
                  <input
                    type="number"
                    value={answers.yearBuilt}
                    onChange={(e) => handleChange('yearBuilt', e.target.value)}
                    className="w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="Year built"
                    min="1800"
                    max="2025"
                  />
                </div>
              </label>
            </div>
          </div>
        );
      
      case 106:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">When was your last major renovation?</h2>
            <div className="space-y-4">
              <label className="block">
                <div className="mt-1 relative">
                  <select
                    value={answers.lastRenovated}
                    onChange={(e) => handleChange('lastRenovated', e.target.value)}
                    className="w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="">Select</option>
                    <option value="Never renovated">Never renovated</option>
                    <option value="Within the last year">Within the last year</option>
                    <option value="1-5 years ago">1-5 years ago</option>
                    <option value="6-10 years ago">6-10 years ago</option>
                    <option value="Over 10 years ago">Over 10 years ago</option>
                    <option value="Unknown">I don't know</option>
                  </select>
                </div>
              </label>
            </div>
          </div>
        );
      
      case 107:
        return (
          <div className="space-y-6">
            <h2 className="text-xl font-bold">When would you like to sell your property?</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
              {['ASAP', 'Within 1 Month', '1-3 Months', '3-6 Months', '6+ Months', 'Just Testing the Market'].map(timeframe => (
                <button 
                  key={timeframe}
